<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Stalls here</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>
<div class="container">
    <h1 class="text-center mb-4 text-primary">Update Stall Details</h1>

    <div class="msg text-center ">
            {% if messages %}
            {% for message in messages %}
            <div class="warning {% if message.tags %}
                            alert-{{ message.tags }}
                            {% endif %}">
                {{message}}
            </div>
                {% endfor %}
            {% endif %}
    </div>


<form method="POST" enctype="multipart/form-data" class="p-3 border rounded">
    {% csrf_token %}
    <div class="mb-3">
        <label for="stall_name" class="form-label">Name</label>
        <input type="text" name="stall_name" id="stall_name" class="form-control border-primary shadow-sm" value="{{ stall.Name }}" required>
    </div>

    <div class="mb-3">
        <label for="food_type" class="form-label">Food Type</label>
        <input type="text" name="food_type" id="food_type" class="form-control border-primary shadow-sm" value="{{ stall.Food_type }}" required>
    </div>

    <div class="mb-3">
        <label for="contact_number" class="form-label">Contact Number</label>
        <input type="text" name="contact_number" id="contact_number" class="form-control border-primary shadow-sm" value="{{ stall.Contact_num }}" required>
    </div>

    <div class="mb-3">
        <label for="address" class="form-label">Address</label>
        <textarea name="address" id="address" class="form-control border-primary shadow-sm" rows="3" required>{{ stall.Address }}</textarea>
    </div>

    <div class="mb-3">
        <label for="ratings" class="form-label">Ratings</label>
        <input type="number" name="ratings" id="ratings" class="form-control border-primary shadow-sm" step="0.1" max="5" value="{{ stall.ratings }}" required>
    </div>

    <div class="mb-3">
        <label for="opening_time" class="form-label">Opening Time</label>
        <input type="time" name="opening_time" id="opening_time" class="form-control border-primary shadow-sm" value="{{ stall.opening_time }}" required>
    </div>

    <div class="mb-3">
        <label for="closing_time" class="form-label">Closing Time</label>
        <input type="time" name="closing_time" id="closing_time" class="form-control border-primary shadow-sm" value="{{ stall.closing_time }}" required>
    </div>


    <div class="mb-3">
        <label for="stall_image" class="form-label">Current Image</label>
        {% if stall.Stall_images %}
            <div class="mb-2">
                <img src="{{ stall.Stall_images.url }}" alt="Current Stall Image" class="img-fluid" style="max-height: 200px; object-fit: cover;">
            </div>
        {% else %}
            <p class="text-muted">No image uploaded yet.</p>
        {% endif %}
        <label for="stall_image" class="form-label">Upload New Image</label>
        <input type="file" name="stall_image" id="stall_image" class="form-control border-primary shadow-sm">
    </div>

    
    <div class="mb-5">
        <label for="Location" class="form-label fw-bold">Location</label>
        <input type="text" class="form-control border-primary shadow-sm" id="" name="Location" value="{{ stall.Location }}" placeholder="Enter location" required autocomplete="off">
    </div>

    <div class="text-center">
        <button type="submit" class="btn btn-primary">Update Stall</button>
        <a href="{% url 'Show_stalls' %}" class="btn btn-dark">Cancel</a>
    </div>
</form>
</div>
    
</body>
</html>